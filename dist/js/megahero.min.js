!function(e){return e?void(e.fn.megahero=function(t){var i=this,n=e(window),r=e.extend({backgroundPosition:"center center",container:i.parent(),dynamicHeight:!0,threshold:120,height:.7},t),o={count:i.length,dataName:"megahero",windowWidth:document.body.clientWidth},d={content:"megahero-content",cover:"megahero-cover",coverVideo:"megahero-cover-video",dim:"dim",main:"megahero",panel:"megahero-hero-panel",placeholder:"megahero-placeholder"},a={dim:"data-megahero-dim",image:"data-megahero-image",height:"data-megahero-height",youtube:"data-megahero-yt"};i.now=Date.now||function(){return(new Date).getTime()},i.debounce=function(e,t,n){var r,o,d,a,h,s=function(){var c=i.now()-a;t>c&&c>0?r=setTimeout(s,t-c):(r=null,n||(h=e.apply(d,o),d=o=null))};return function(){d=this,o=arguments,a=i.now();var c=n&&!r;return r||(r=setTimeout(s,t)),c&&(h=e.apply(d,o),d=o=null),h}},i.collection=[],i.addToCollection=function(e){return e?(i.collection.push(e),i.collection.length>=o.count&&(i.updateWindowWidth(),i.resizeHeros()),i):!1},i.resizeHeros=function(){i.updateWindowWidth();for(var e=0,t=i.collection.length;t>e;e++)i.collection[e].resize();return i},i.updateWindowWidth=function(e){return e&&"number"==typeof e||(e=document.body.clientWidth),o.windowWidth=e,i},i.debouncedResize=i.debounce(i.resizeHeros,r.threshold),i.initialize=function(){return r.container=e(r.container),o.heightAttr=r.dynamicHeight?"min-height":"height",r.container.css("overflow","visible"),n.on("resize",i.debouncedResize),n.bind("orientationchange",i.debouncedResize),i};var h=function(t){return t&&"object"==typeof t?(this.el=t,this.$el=e(t),this.initialize(),this):!1};return h.prototype.createPlaceholder=function(){var t,i,n=this.$el;return t=document.createElement("div"),t.classList.add(d.placeholder),i=e(t),i.insertBefore(n),this.$placeholder=i,this},h.prototype.createYTEmbed=function(e){if(!e||"string"!=typeof e)return!1;var t,i=this.parseVideo(e);return i&&(t="//youtube.com/embed/"+i+"?showinfo=0&autohide=1&volume=0"),t},h.prototype.initialize=function(){var e=document.body.clientWidth,t=this.el;return t.classList.add(d.panel),t.classList.contains(d.main)||t.classList.add(d.main),this.createPlaceholder(),i.addToCollection(this),e===o.windowWidth?this.resize():(i.updateWindowWidth(e),i.resizeHeros()),this.render(),this},h.prototype.parseHeight=function(){var e=this.el.getAttribute(a.height),t=n.height();return e||(e=r.height),"number"==typeof e?Math.round(t*e):e.indexOf("px")>=0?e:(e.indexOf("%")>=0&&(e=parseFloat(e.replace("%",""))/100),"string"==typeof e&&(e=parseFloat(e)),Math.round(t*e))},h.prototype.parseVideo=function(e){var t;return e&&"string"==typeof e?(e=e.split("/"),t=e.filter(function(e){return e.indexOf("watch?v=")>=0}),t[0].split("=")[1]):!1},h.prototype.render=function(){return this.renderContent(),this.renderImage(),this.renderVideo(),this.renderDim(),this},h.prototype.renderContent=function(){return this.$el.children().wrapAll('<div class="'+d.content+'"></div>'),this},h.prototype.renderDim=function(){var e=this.el,t=e.getAttribute(a.dim);return t?(e.classList.add(d.dim),this):!1},h.prototype.renderImage=function(){var e,t=this.el,i=t.getAttribute(a.image);return i?(e=document.createElement("div"),e.classList.add(d.cover),e.style.backgroundImage="url('"+i+"')",t.appendChild(e),this):this},h.prototype.renderVideo=function(){var e,t,i=this.el,n=i.getAttribute(a.youtube);return n?(this.hasVideo=!0,t=this.createYTEmbed(n),e=document.createElement("iframe"),e.src=t,e.frameBorder=0,e.height="100%",e.width="100%",e.volume=0,cover=document.createElement("div"),cover.classList.add(d.coverVideo),cover.appendChild(e),i.appendChild(cover),this):!1},h.prototype.resize=function(){var e,t=this,i=document.body.clientWidth,n=this.$el,d=this.$placeholder;return n&&d?t.verifyWidth(i)?(e=this.$placeholder.offset().left,n.css("marginLeft",-Math.round(e)),n.width(o.windowWidth),t.hasVideo?n.css(o.heightAttr,""):n.css(o.heightAttr,t.parseHeight()),r.dynamicHeight||n.css("overflow","hidden"),this):this:!1},h.prototype.verifyWidth=function(e){return e&&"number"==typeof e?e!==o.windowWidth?(i.updateWindowWidth(e),i.resizeHeros(),!1):!0:void 0},i.initialize(),this.each(function(){var t,i=e(this);i.data(o.dataName)||(t=new h(this),i.data(o.dataName,t))})}):!1}(jQuery);